{% extends 'auth/base.html' %}
{% block content %}

{# BEWARE: The following templates in 'raw' section are handled by handlebars
javascript library and not jinja2. #}

{% raw %}

<script id="group-chooser-item-template" type="text/x-handlebars-template">
  <a href="#" class="list-group-item">
    <h5 class="list-group-item-heading">{{name}}</h5>
    <small class="list-group-item-text">{{description}}</small>
  </a>
</script>

<script id="group-chooser-button-template" type="text/x-handlebars-template">
  <a href="#" class="list-group-item">
    <b>Create a new group</b>
  </a>
</script>

<script id="frame-error-pane" type="text/x-handlebars-template">
  <div class="panel panel-danger">
    <div class="panel-heading"><h3 class="panel-title">Error</h3></div>
    <div class="panel-body"><pre>{{text}}</pre></div>
  </div>
</script>

<script id="edit-group-form-template" type="text/x-handlebars-template">
  <div class="panel panel-default">
    <div class="panel-heading"><h3 class="panel-title">{{name}}</h3></div>
    <div class="panel-body" style="padding-bottom: 5px;">
      <div id="alerts"></div>
      <form class="form-horizontal" role="form">
        <input type="hidden" name="name" value="{{name}}">
        <div class="form-group">
          <label class="col-sm-2 control-label">Description</label>
          <div class="col-sm-10">
            <input type="text" class="form-control"
                   name="description" value="{{description}}">
          </div>
        </div>
        <hr>
        <div class="form-group">
          <label class="col-sm-2 control-label">Created on</label>
          <div class="col-sm-10">
            <input type="text" class="form-control"
                   value="{{created_ts}}" disabled>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Created by</label>
          <div class="col-sm-10">
            <input type="text" class="form-control"
                   value="{{created_by}}" disabled>
          </div>
        </div>
        <hr>
        <div class="form-group">
          <label class="col-sm-2 control-label">Modified on</label>
          <div class="col-sm-10">
            <input type="text" class="form-control"
                   value="{{modified_ts}}" disabled>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Modified by</label>
          <div class="col-sm-10">
            <input type="text" class="form-control"
                   value="{{modified_by}}" disabled>
          </div>
        </div>
        <hr>
        <div class="form-group">
          <label class="col-sm-2 control-label">Members</label>
          <div class="col-sm-10" style="font-family:monospace;">
            <textarea class="form-control"
                      rows="4" name="members">{{members}}</textarea>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Patterns</label>
          <div class="col-sm-10" style="font-family:monospace;">
            <textarea class="form-control"
                      rows="2" name="globs">{{globs}}</textarea>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Nested</label>
          <div class="col-sm-10" style="font-family:monospace;">
            <textarea class="form-control"
                      rows="2" name="nested">{{nested}}</textarea>
          </div>
        </div>
        <hr>
        <div class="form-group">
          <div class="col-sm-12">
            <button type="submit" class="btn btn-primary">
              Update group
            </button>
            <button id="delete-btn" type="button" class="btn btn-danger">
              Delete group
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</script>

<script id="new-group-form-template" type="text/x-handlebars-template">
  <div class="panel panel-default">
    <div class="panel-body" style="padding-bottom: 5px;">
      <div id="alerts"></div>
      <form class="form-horizontal" role="form">
        <div class="form-group">
          <label class="col-sm-2">Group name</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="name">
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2">Description</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" name="description">
          </div>
        </div>
        <hr>
        <div class="form-group">
          <label class="col-sm-2 control-label">Members</label>
          <div class="col-sm-10" style="font-family:monospace;">
            <textarea class="form-control" rows="6" name="members"></textarea>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Patterns</label>
          <div class="col-sm-10" style="font-family:monospace;">
            <textarea class="form-control" rows="3" name="globs"></textarea>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label">Nested</label>
          <div class="col-sm-10" style="font-family:monospace;">
            <textarea class="form-control" rows="3" name="nested"></textarea>
          </div>
        </div>
        <hr>
        <div class="form-group">
          <div class="col-sm-12">
            <button type="submit" class="btn btn-primary">Create group</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</script>

{% endraw %}

<div class="row">
  <!-- Group chooser + 'Create new group' button. -->
  <div class="col-md-4">
    <div class="row">
      <!-- Group search button. -->
      <div class="input-group" id="search-box-group">
          <input id="search-box" type="text"
                 class="form-control" placeholder="Search" />
          <span class="input-group-addon">
            <i class="glyphicon glyphicon-search"></i>
          </span>
      </div>
    </div>
    <div class="row">
      <!-- Populated by js. -->
      <div id="group-chooser-outter">
        <div id="group-chooser">
        </div>
      </div>
    </div>
  </div>

  <!-- Details of some single group. -->
  <div class="col-md-8">
    <!-- Populated by js. -->
    <div id="main-content-pane">
    </div>
  </div>
</div>

{% endblock %}
